Program([VarDecl(Id(bad_character_shift),ArrayType(0,255,IntType)),VarDecl(Id(good_suffix_shift),ArrayType(1,100,IntType)),VarDecl(Id(suff),ArrayType(1,100,IntType)),FuncDecl(Id(pre_bad_character_shift),[VarDecl(Id(pattern),StringType)],VoidType(),[VarDecl(Id(i),IntType),VarDecl(Id(m),IntType)],[AssignStmt(Id(m),CallExpr(Id(length),[Id(pattern)])),For(Id(i)IntLiteral(0),IntLiteral(255),True,[AssignStmt(ArrayCell(Id(bad_character_shift),Id(i)),Id(m))]),For(Id(i)IntLiteral(1),BinaryOp(-,Id(m),IntLiteral(1)),True,[AssignStmt(ArrayCell(Id(bad_character_shift),ArrayCell(Id(pattern),Id(i))),BinaryOp(-,Id(m),Id(i)))])]),FuncDecl(Id(pre_suff),[VarDecl(Id(pattern),StringType)],VoidType(),[VarDecl(Id(i),IntType),VarDecl(Id(j),IntType),VarDecl(Id(m),IntType)],[AssignStmt(Id(m),CallExpr(Id(length),[Id(pattern)])),AssignStmt(ArrayCell(Id(suff),Id(m)),Id(m)),For(Id(i)BinaryOp(-,Id(m),IntLiteral(1)),IntLiteral(1),False,[For(Id(j)IntLiteral(0),Id(i),True,[If(BinaryOp(<>,ArrayCell(Id(pattern),BinaryOp(-,Id(i),Id(j))),ArrayCell(Id(pattern),BinaryOp(-,Id(m),Id(j)))),[Break],[])]),AssignStmt(ArrayCell(Id(suff),Id(i)),Id(j))])]),FuncDecl(Id(pre_good_suffix_shift),[VarDecl(Id(pattern),StringType)],VoidType(),[VarDecl(Id(i),IntType),VarDecl(Id(j),IntType),VarDecl(Id(m),IntType)],[AssignStmt(Id(m),CallExpr(Id(length),[Id(pattern)])),CallStmt(Id(pre_suff),[Id(pattern)]),For(Id(i)IntLiteral(1),Id(m),True,[AssignStmt(ArrayCell(Id(good_suffix_shift),Id(i)),Id(m))]),For(Id(i)Id(m),IntLiteral(1),False,[If(BinaryOp(=,ArrayCell(Id(suff),Id(i)),Id(i)),[For(Id(j)IntLiteral(0),BinaryOp(-,Id(m),Id(i)),True,[If(BinaryOp(=,ArrayCell(Id(good_suffix_shift),Id(j)),Id(m)),[AssignStmt(ArrayCell(Id(good_suffix_shift),Id(j)),BinaryOp(-,Id(m),Id(i)))],[])])],[])]),For(Id(i)IntLiteral(1),Id(m),True,[AssignStmt(ArrayCell(Id(good_suffix_shift),BinaryOp(-,Id(m),ArrayCell(Id(suff),Id(i)))),BinaryOp(-,Id(m),Id(i)))])]),FuncDecl(Id(BM_alg),[VarDecl(Id(text),StringType),VarDecl(Id(pattern),StringType)],VoidType(),[VarDecl(Id(i),IntType),VarDecl(Id(j),IntType),VarDecl(Id(found),BoolType),VarDecl(Id(m),IntType),VarDecl(Id(n),IntType)],[AssignStmt(Id(m),CallExpr(Id(length),[Id(pattern)])),AssignStmt(Id(n),CallExpr(Id(length),[Id(text)])),CallStmt(Id(pre_bad_character_shift),[Id(pattern)]),CallStmt(Id(pre_good_suffix_shift),[Id(pattern)]),AssignStmt(Id(j),IntLiteral(0)),While(BinaryOp(<=,Id(j),BinaryOp(-,Id(n),Id(m))),[AssignStmt(Id(found),BooleanLiteral(True)),For(Id(i)Id(m),IntLiteral(1),False,[If(BinaryOp(<>,ArrayCell(Id(pattern),Id(i)),ArrayCell(Id(text),BinaryOp(+,Id(i),Id(j)))),[AssignStmt(Id(found),BooleanLiteral(False)),Break],[])]),If(BinaryOp(=,Id(found),BooleanLiteral(True)),[CallStmt(Id(write),[BinaryOp(+,CallExpr(Id(IntToStr),[Id(j)]),StringLiteral( ))]),AssignStmt(Id(j),BinaryOp(+,Id(j),ArrayCell(Id(good_suffix_shift),IntLiteral(1))))],[AssignStmt(Id(j),BinaryOp(+,Id(j),CallExpr(Id(max),[ArrayCell(Id(good_suffix_shift),Id(i)),BinaryOp(+,BinaryOp(-,ArrayCell(Id(bad_character_shift),ArrayCell(Id(text),BinaryOp(+,Id(i),Id(j)))),Id(m)),Id(i))])))])])]),FuncDecl(Id(main),[],VoidType(),[VarDecl(Id(pattern),StringType),VarDecl(Id(text),StringType)],[CallStmt(Id(writeln),[StringLiteral(Podaj tekst)]),CallStmt(Id(readln),[Id(text)]),CallStmt(Id(writeln),[StringLiteral(Podaj wzorzec)]),CallStmt(Id(readln),[Id(pattern)]),CallStmt(Id(BM_alg),[Id(text),Id(pattern)]),CallStmt(Id(readln),[])])])